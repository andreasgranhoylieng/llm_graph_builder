AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-10-21
AZURE_OPENAI_LLM_DEPLOYMENT=gpt-4o-mini
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large

NEO4J_URI=neo4j+s://your-db-id.databases.neo4j.io
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-neo4j-password
NEO4J_DATABASE=neo4j

# Graph parallelism
GRAPH_BATCHES_PER_WORKER=2
GRAPH_MIN_BATCHES_PER_FILE=8
GRAPH_LOG_RATE_LIMIT_WAIT=true

# Ingestion tuning
INGEST_CHUNK_SIZE=2000
INGEST_CHUNK_OVERLAP=200
INGEST_MIN_CHUNK_CHARS=1
INGEST_NORMALIZE_WHITESPACE=true
INGEST_DEDUP_WITHIN_FILE=true
INGEST_DEDUP_ACROSS_JOB=true

# Write/embedding throughput
NEO4J_INGEST_BATCH_SIZE=100
GRAPH_WRITE_FLUSH_SIZE=300
EMBEDDING_BATCH_SIZE=96
SKIP_EXISTING_EMBEDDINGS=true

# Extraction detail/latency tradeoff
GRAPH_EXTRACT_NODE_PROPERTIES=true
GRAPH_EXTRACT_RELATIONSHIP_PROPERTIES=true

# Retrieval quality controls
DOCUMENT_SEARCH_SCORE_THRESHOLD=0.72
DOCUMENT_SEARCH_TOP_K=7
ENTITY_RESOLVE_MIN_VECTOR_SCORE=0.78
ENTITY_RESOLVE_MIN_SCORE_MARGIN=0.06
ENTITY_RESOLVE_MIN_TOKEN_OVERLAP=0.5
ENTITY_RESOLVE_FULLTEXT_LIMIT=5

# Graph quality controls
GRAPH_RELATIONSHIP_EXCLUDE_TYPES=MENTIONS
GRAPH_PATH_MAX_DISTANCE=5
ENABLE_GLOBAL_CONTEXT=true
GLOBAL_CONTEXT_MAX_COMMUNITIES=5
GLOBAL_CONTEXT_MAX_FACTS=8

# Grounding and confidence behavior
ALLOW_CYPHER_FALLBACK_WITHOUT_RETRIEVAL=false
CONFIDENCE_MIN_FOR_UNGROUNDED=0.05
CONFIDENCE_MAX_FOR_UNGROUNDED=0.25
HYBRID_MIN_EVIDENCE_SNIPPETS=1

# Planner latency controls
ENABLE_QUERY_PLANNER_FAST_PATH=true
ENABLE_QUERY_PLAN_CACHE=true
QUERY_PLAN_CACHE_SIZE=256
